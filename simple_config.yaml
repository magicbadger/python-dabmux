# Simple DAB Configuration - Single Looping Audio Service
#
# This is a minimal configuration for a single audio service that loops continuously.
#
# Usage:
#   1. Replace 'audio.mp2' with your MPEG Layer II audio file
#   2. Customize the station name and ensemble name
#   3. Run: python -m dabmux.cli -c simple_config.yaml -o output.eti --continuous
#
# To encode audio to MPEG Layer II:
#   ffmpeg -i yourmusic.mp3 -c:a mp2 -ar 48000 -b:a 128k audio.mp2

ensemble:
  # Unique ensemble ID (hex format)
  id: '0xCE15'

  # Extended Country Code (0xE1=Germany, 0xE2=UK, 0xF0=France)
  ecc: '0xE1'

  # Transmission mode (I is most common)
  transmission_mode: 'I'

  # Ensemble name (shown to listeners)
  label:
    text: 'My DAB'          # Max 16 characters
    short: 'DAB'            # Max 8 characters

  # Automatic local time offset
  lto_auto: true

# Subchannels - the actual audio streams
subchannels:
  - uid: 'audio1'
    id: 0                          # Subchannel ID
    type: 'audio'                  # Type: 'audio' for DAB, 'dabplus' for DAB+
    bitrate: 128                   # Audio bitrate in kbps
    start_address: 0               # Start position

    # Error protection
    protection:
      level: 2                     # 0=weakest, 2=normal, 4=strongest
      shortform: true

    # Input file - MUST be MPEG Layer II (.mp2) for type 'audio'
    input: 'file://audio.mp2'      # Change this to your audio file

# Services - the radio stations
services:
  - uid: 'service1'
    id: '0x5001'                   # Unique service ID

    # Station name (shown to listeners)
    label:
      text: 'My Station'           # Max 16 characters
      short: 'Station'             # Max 8 characters

    # Programme type
    pty: 10                        # 1=News, 10=Pop Music, 14=Classical

    # Language
    language: 9                    # 9=English, 8=German, 15=French

# Components - link services to subchannels
components:
  - uid: 'comp1'
    service_id: '0x5001'           # Must match service id above
    subchannel_id: 0               # Must match subchannel id above
    type: 0                        # 0=Audio

# ============================================================================
# QUICK START GUIDE
# ============================================================================
#
# 1. PREPARE AUDIO
#    Convert your audio to MPEG Layer II:
#    $ ffmpeg -i yourmusic.mp3 -c:a mp2 -ar 48000 -b:a 128k audio.mp2
#
# 2. UPDATE CONFIG
#    Edit the 'input' line above to point to your audio.mp2 file
#
# 3. RUN MULTIPLEXER
#    Generate ETI file (loops audio continuously):
#    $ python -m dabmux.cli -c simple_config.yaml -o output.eti --continuous
#
#    Stream to network:
#    $ python -m dabmux.cli -c simple_config.yaml --edi udp://192.168.1.100:12000 --continuous
#
# ============================================================================
# CONFIGURATION OPTIONS
# ============================================================================
#
# AUDIO TYPES:
#   type: 'audio'     - DAB (MPEG Layer II) - use .mp2 files
#   type: 'dabplus'   - DAB+ (HE-AAC v2) - use .aac files
#
# BITRATES (for 'audio' type):
#   64 kbps   - Mono speech
#   96 kbps   - Stereo speech or low-quality music
#   128 kbps  - Standard music quality (recommended)
#   160 kbps  - High-quality music
#   192 kbps  - Premium music quality
#
# BITRATES (for 'dabplus' type):
#   48 kbps   - Speech (excellent quality)
#   72 kbps   - Music (comparable to 128 kbps DAB)
#   96 kbps   - Premium music
#
# PROTECTION LEVELS:
#   0 - Weakest (use only with very strong signal)
#   1 - Weak (good signal required)
#   2 - Moderate (recommended for most cases)
#   3 - Strong (weak signal areas)
#   4 - Strongest (maximum robustness)
#
# PROGRAMME TYPES (PTY):
#   0  - None/Undefined    10 - Pop Music        20 - Religion
#   1  - News              11 - Rock Music       21 - Phone In
#   2  - Current Affairs   12 - Easy Listening   22 - Travel
#   3  - Information       13 - Light Classical  23 - Leisure
#   4  - Sport             14 - Serious Classical 24 - Jazz Music
#   5  - Education         15 - Other Music      25 - Country Music
#   6  - Drama             16 - Weather          26 - National Music
#   7  - Culture           17 - Finance          27 - Oldies Music
#   8  - Science           18 - Children's       28 - Folk Music
#   9  - Varied Speech     19 - Social Affairs   29 - Documentary
#
# LANGUAGE CODES:
#   9  - English           8  - German           15 - French
#   10 - Spanish           21 - Italian          33 - Portuguese
#   See documentation for full list
#
# ============================================================================
